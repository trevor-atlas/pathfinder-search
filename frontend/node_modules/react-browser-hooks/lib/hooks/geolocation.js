'use strict';

exports.__esModule = true;
exports.useGeolocation = useGeolocation;

var _react = require('react');

function useGeolocation(options) {
  var _useState = (0, _react.useState)({
    timestamp: Date.now(),
    coords: {}
  }),
      position = _useState[0],
      setPosition = _useState[1];

  var _useState2 = (0, _react.useState)(null),
      error = _useState2[0],
      setError = _useState2[1];

  (0, _react.useEffect)(function () {
    navigator.geolocation.getCurrentPosition(setPosition, setError, options);
    var watchId = navigator.geolocation.watchPosition(setPosition, setError, options);
    return function () {
      return navigator.geolocation.clearWatch(watchId);
    };
  }, [options]);

  return { position: position, error: error };
}