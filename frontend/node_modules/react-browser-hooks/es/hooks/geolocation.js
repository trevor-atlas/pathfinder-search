import { useState, useEffect } from 'react';

export function useGeolocation(options) {
  var _useState = useState({
    timestamp: Date.now(),
    coords: {}
  }),
      position = _useState[0],
      setPosition = _useState[1];

  var _useState2 = useState(null),
      error = _useState2[0],
      setError = _useState2[1];

  useEffect(function () {
    navigator.geolocation.getCurrentPosition(setPosition, setError, options);
    var watchId = navigator.geolocation.watchPosition(setPosition, setError, options);
    return function () {
      return navigator.geolocation.clearWatch(watchId);
    };
  }, [options]);

  return { position: position, error: error };
}