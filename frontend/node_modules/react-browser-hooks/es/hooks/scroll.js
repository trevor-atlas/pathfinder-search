import { useState, useEffect } from 'react';
import { IS_SERVER } from '../constants';

export function useScroll() {
  var _useState = useState({
    top: IS_SERVER ? 0 : window.pageYOffset,
    left: IS_SERVER ? 0 : window.pageXOffset
  }),
      pos = _useState[0],
      setPos = _useState[1];

  function handleScroll() {
    setPos({ top: window.pageYOffset, left: window.pageXOffset });
  }

  useEffect(function () {
    window.addEventListener('scroll', handleScroll, false);

    return function cleanup() {
      window.removeEventListener('scroll', handleScroll);
    };
  }, []);

  return pos;
}